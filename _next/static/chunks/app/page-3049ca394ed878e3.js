(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6012:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>x});var l=o(5155),a=o(2115),n=o(8200);function r(e){let{onSearch:t,compact:o=!1}=e,[r,i]=(0,a.useState)(""),s=e=>{e.preventDefault(),r.trim()&&t(r.trim())};return o?(0,l.jsx)("form",{onSubmit:s,className:"w-full",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Search...",className:"w-full rounded text-sm p-1 pl-7 pr-16 border border-gray-200"}),(0,l.jsx)(n.A,{className:"absolute left-2 top-1.5 text-gray-400",size:14}),(0,l.jsx)("button",{type:"submit",className:"absolute right-1 top-1 rounded bg-blue-500 text-white px-2 py-0.5 text-xs",disabled:!r.trim(),children:"Search"})]})}):(0,l.jsx)("form",{onSubmit:s,children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Search for a word...",className:"w-full rounded-lg bg-zinc-800 p-4 pl-12 border border-zinc-600 text-white"}),(0,l.jsx)(n.A,{className:"absolute left-4 top-4 text-zinc-400",size:20}),(0,l.jsx)("button",{type:"submit",className:"absolute right-2 top-2 rounded bg-zinc-700 px-4 py-2 text-white",disabled:!r.trim(),children:"Search"})]})})}var i=o(4211);o(1687);let s={English:"bg-etymology-blue text-white",Latin:"bg-etymology-purple text-white",Greek:"bg-etymology-red text-white",French:"bg-etymology-yellow text-black",German:"bg-etymology-green text-white","Proto-Indo-European":"bg-etymology-teal text-white","Proto-Italic":"bg-etymology-indigo text-white","Old Norse":"bg-etymology-pink text-white","Old English":"bg-etymology-orange text-white",Sanskrit:"bg-etymology-lime text-white",default:"bg-gray-700 text-white"};var c=o(470);function d(e){var t,o;let{data:a,id:n}=e,r=a.language&&s[a.language]?s[a.language].split(" ")[0]:"bg-gray-700";return(0,l.jsxs)(c.P.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white p-4 rounded-lg border-2 border-gray-300 shadow-md max-w-[300px]",children:[(0,l.jsx)(i.h7,{type:"source",position:i.yX.Bottom,id:"bottom",style:{background:"#333",width:"8px",height:"8px"}}),"main"!==n&&(0,l.jsx)(i.h7,{type:"target",position:i.yX.Top,id:"top",style:{background:"#333",width:"8px",height:"8px"}}),(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:a.word}),(0,l.jsx)("span",{className:"inline-block rounded-full px-2 py-0.5 text-xs text-white ".concat(r," mb-2"),children:a.language}),a.definition&&(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:(t=a.definition)?"string"==typeof t?t:t.short:""}),void 0!==a.year&&null!==a.year&&(0,l.jsx)("div",{className:"text-xs text-gray-500 italic",children:null===(o=a.year)?"":o>0?o.toString():"".concat(Math.abs(o)," BCE")})]})}function g(e){let{words:t}=e,[o,n,r]=(0,i.ck)([]),[s,c,g]=(0,i.fM)([]),[u,h]=(0,a.useState)(new Map),[y,f]=(0,a.useState)(new Map),m=(0,a.useMemo)(()=>({etymologyNode:d}),[]);return((0,a.useMemo)(()=>{if(!t||0===t.length)return;let e=[],o=new Map,l=(()=>{let e=t[0],o=new Map;t.forEach(e=>{o.set(e.word,e)});let l=(e,t)=>{let o={...e,children:[],depth:t};if(0===t&&e.etymology){let a=e.etymology;if(a)for(let e of a)o.children.push(l(e,t+1))}if(e.roots)for(let a of e.roots)o.children.push(l(a,t+1));return o};return l(e,0)})();(t=>{t.forEach((t,l)=>{let a=-((t.length-1)*350)/2;t.forEach((t,n)=>{let r=0===l?"main":"".concat(t.word,"_").concat(l,"_").concat(n),i=a+350*n;e.push({id:r,type:"etymologyNode",position:{x:i,y:300*l},data:t}),o.set(t.word,r)})})})((e=>{let t=new Map,o=e=>{t.has(e.depth)||t.set(e.depth,[]);let l=t.get(e.depth);for(let t of(l&&l.push(e),e.children))o(t)};return o(e),t.forEach(e=>{e.forEach((e,t)=>{e.index=t})}),t})(l));let a=(e,t)=>{for(let o of e.children)t.set(o.word,e.word),a(o,t)},r=new Map;a(l,r),console.log("Parent-child map:",Object.fromEntries(r)),console.log("Node map:",Object.fromEntries(o)),n(e),h(r),f(o)},[t,n]),(0,a.useMemo)(()=>{if(!o||o.length<=1||!u.size||!y.size)return;let e=[];u.forEach((t,o)=>{let l=y.get(t),a=y.get(o);if(l&&a){let t="e_".concat(l,"_to_").concat(a);e.some(e=>e.id===t)||e.push({id:t,source:l,target:a,sourceHandle:"bottom",targetHandle:"top",type:"default",animated:!1,markerEnd:{type:i.TG.Arrow,color:"#333",width:15,height:15},style:{stroke:"#333",strokeWidth:2,opacity:1}})}}),console.log("Created edges:",e.length),c(e)},[o,u,y,c]),t&&0!==t.length)?(0,l.jsx)(i.Gc,{nodes:o,edges:s,onNodesChange:r,onEdgesChange:g,nodeTypes:m,elevateEdgesOnSelect:!0,elevateNodesOnSelect:!1,fitView:!0,fitViewOptions:{padding:.5},defaultEdgeOptions:{type:"default",animated:!1,style:{stroke:"#333",strokeWidth:2,opacity:.8}},style:{background:"rgb(245, 245, 245)",width:"100%",height:"100%"},proOptions:{hideAttribution:!1},className:"h-full w-full"}):(0,l.jsx)("div",{className:"flex h-full items-center justify-center",children:"No etymology data available"})}var u=o(8075);let h="Ponchia",y="etymology-website",f="data/words",m=new u.Eg,p={etymology:{word:"etymology",language:"English",year:1398,definition:"the study of the origin and history of words",etymology:[{word:"etymologia",language:"Latin",year:1350}],roots:[{word:"etymologia",language:"Latin",definition:"origin of words",year:1350,roots:[{word:"etymon",language:"Greek",definition:"true sense",year:null,roots:[{word:"etymos",language:"Greek",definition:"true, real, actual",year:null}]},{word:"logia",language:"Greek",definition:"study of",year:null,roots:[{word:"logos",language:"Greek",definition:"word, speech, discourse, reason",year:null}]}]}]},philosophy:{word:"philosophy",language:"English",year:1340,definition:"love or pursuit of wisdom; systematic investigation of the nature of truth",etymology:[{word:"philosophie",language:"French",year:1290,definition:"love of wisdom"}],roots:[{word:"philosophia",language:"Latin",definition:"the study of philosophy",year:null,roots:[{word:"philosophos",language:"Greek",definition:"lover of wisdom",year:null,roots:[{word:"philos",language:"Greek",definition:"loving, dear",year:null},{word:"sophia",language:"Greek",definition:"knowledge, wisdom",year:null,roots:[{word:"sophos",language:"Greek",definition:"wise",year:null}]}]}]}]},monde:{word:"monde",language:"French",year:1050,definition:"world, universe, earth",etymology:[],roots:[{word:"mundus",language:"Latin",definition:"world, universe, the heavens",year:null,roots:[{word:"mundus",language:"Latin",definition:"clean, elegant",year:null,roots:[{word:"munde",language:"Latin",definition:"cleanly, neatly",year:null}]}]}]},amor:{word:"amor",language:"Latin",year:-100,definition:"love, affection, passion",etymology:[],roots:[{word:"ama",language:"Proto-Italic",definition:"love",year:null,roots:[{word:"am-",language:"Proto-Indo-European",definition:"mother, nurse",year:null}]}]},polis:{word:"polis",language:"Greek",year:-800,definition:"city, city-state",etymology:[],roots:[{word:"pele-",language:"Proto-Indo-European",definition:"citadel, fortified high place",year:null}]}};async function w(e){try{let t=e.toLowerCase().trim();console.log("Attempting to fetch from GitHub");try{let e="https://raw.githubusercontent.com/".concat(h,"/").concat(y,"/main/").concat(f,"/English/").concat(t.charAt(0).toLowerCase(),"/").concat(t,".json");try{console.log("Trying raw GitHub URL: ".concat(e));let t=await fetch(e);if(t.ok){let e=await t.json();return console.log("Successfully fetched from raw GitHub URL"),e}}catch(e){console.log("Error fetching from raw GitHub URL, trying API instead:",e)}for(let e of["English","French","Latin","Greek"]){let o="https://raw.githubusercontent.com/".concat(h,"/").concat(y,"/main/").concat(f,"/").concat(e,"/").concat(t.charAt(0).toLowerCase(),"/").concat(t,".json");try{console.log("Trying language-specific raw URL: ".concat(o));let t=await fetch(o);if(t.ok){let o=await t.json();return console.log("Successfully fetched from ".concat(e," directory")),o}}catch(t){console.log("Error fetching from ".concat(e," directory"))}}for(let e of(console.log("Falling back to GitHub API"),["English","French","Latin","Greek"])){let o="".concat(f,"/").concat(e,"/").concat(t.charAt(0).toLowerCase(),"/").concat(t,".json");try{console.log("Trying GitHub API with path: ".concat(o));let t=await m.rest.repos.getContent({owner:h,repo:y,path:o});if(200===t.status&&"content"in t.data){let o=atob(t.data.content);return console.log("Successfully fetched from GitHub API (".concat(e," directory)")),JSON.parse(o)}}catch(t){console.log("Error fetching from GitHub API (".concat(e," directory)"))}}if(console.log("All GitHub fetch attempts failed, checking for fallback data"),p[t])return console.log('Falling back to sample data for "'.concat(t,'"')),p[t];return null}catch(e){if(console.error("Error in GitHub fetch logic:",e),p[t])return console.log('Falling back to sample data for "'.concat(t,'"')),p[t];return null}}catch(e){return console.error("Error in getWordEtymology:",e),null}}function x(){let[e,t]=(0,a.useState)(!1),[o,n]=(0,a.useState)(null),[i,s]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)([]),y=async e=>{t(!0),n(null),s(e);try{let t=await w(e);if(t){d(t);let e=function(e){let t=[];if(t.push(e),e.etymology&&e.etymology.length>0)for(let o of e.etymology)t.push(o);let o=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.roots&&e.roots.length>0)for(let a of e.roots)t.push(a),o(a,l+1)};if(e.roots&&e.roots.length>0)for(let l of e.roots)t.push(l),o(l);return t}(t);h(e)}else n('No etymology data found for "'.concat(e,'"')),d(null),h([])}catch(e){n("Error: ".concat(e instanceof Error?e.message:String(e))),d(null),h([])}finally{t(!1)}};return c||e||o?e?(0,l.jsxs)("div",{className:"full-page",children:[(0,l.jsx)("div",{className:"animate-spin h-10 w-10 border-4 border-blue-500 border-t-transparent rounded-full"}),(0,l.jsx)("p",{className:"mt-4",children:"Loading..."})]}):o?(0,l.jsxs)("div",{className:"full-page",children:[(0,l.jsx)("div",{className:"bg-red-50 text-red-800 p-4 rounded-lg max-w-md",children:o}),(0,l.jsx)("button",{onClick:()=>{n(null),s(null)},className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded",children:"Try Again"})]}):(0,l.jsxs)("div",{className:"h-screen flex flex-col",children:[(0,l.jsxs)("div",{className:"bg-white/90 p-3 shadow-sm flex justify-between items-center",children:[(0,l.jsxs)("h1",{className:"font-bold",children:["Etymology of ",(0,l.jsx)("span",{className:"italic",children:i})]}),(0,l.jsx)("div",{className:"w-64",children:(0,l.jsx)(r,{onSearch:y,compact:!0})})]}),(0,l.jsx)("div",{className:"flex-1 flow-container",children:(0,l.jsx)(g,{words:u})})]}):(0,l.jsxs)("div",{className:"full-page",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Etymology Explorer"}),(0,l.jsx)("p",{className:"text-zinc-400 mb-8",children:"Discover the origins and history of words"}),(0,l.jsx)("div",{className:"w-full max-w-md",children:(0,l.jsx)(r,{onSearch:y})})]})}},9426:(e,t,o)=>{Promise.resolve().then(o.bind(o,6012))}},e=>{var t=t=>e(e.s=t);e.O(0,[294,702,255,441,684,358],()=>t(9426)),_N_E=e.O()}]);